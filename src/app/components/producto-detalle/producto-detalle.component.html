<div class="container mx-auto px-4 py-8" *ngIf="product">
    <h2 class="text-3xl font-bold text-center text-[#283593] mb-6">Our Products</h2>
  
    <div class="flex flex-col items-center">
      <!-- Imagen principal -->
      <img [src]="selectedImage || product.image_url"
           alt="Imagen principal"
           class="w-full max-w-md h-auto object-contain mb-4"
           style="background-color: transparent;" />
  
      <!-- Miniaturas debajo -->
      <div class="flex gap-2 justify-center mb-4">
        <img *ngFor="let img of allImages"
             [src]="img"
             (click)="selectedImage = img"
             [class.border-blue-500]="selectedImage === img"
             class="object-cover rounded-md cursor-pointer border-2 border-transparent hover:border-blue-300 transition"
             style="width: 84px; height: 107px;" />
      </div>
  
      <!-- Nombre y descripción -->
      <h1 class="text-2xl font-semibold text-gray-800 text-center mb-2">{{ product.name }}</h1>
      <p class="text-gray-600 text-center mb-4">{{ product.short_description || product.description.substring(0, 150) + '...' }}</p>
  
      <!-- Precio, cantidad y botón -->
      <div class="w-full flex justify-center items-center mb-4">
        <div class="flex flex-col me-100">
          <p class="text-2xl font-bold text-[#283593]">${{ product.price }}</p>
          <p class="text-sm text-gray-500 !-mt-2">a {{ product.mililitros }} ml</p>
        </div>
  
        <div class="flex items-center gap-1">
          <div class="bg-white border border-gray-200 rounded-lg">
            <div class="w-full flex justify-between items-center gap-x-1">
              <div class="grow py-2 px-3">
                <input 
                  class="w-full p-0 bg-transparent border-0 text-gray-800 focus:ring-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"
                  style="-moz-appearance: textfield;" 
                  type="number" 
                  aria-roledescription="Number field" 
                  [(ngModel)]="cantidad" 
                  min="1" 
                  [max]="product.quantity" />
              </div>
              <div class="flex flex-col -gap-y-px divide-y divide-gray-200 border-s border-gray-200">
                <button 
                  type="button" 
                  class="size-7 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-se-lg bg-gray-50 text-gray-800 hover:bg-gray-100 focus:outline-hidden focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" 
                  aria-label="Increase" 
                  (click)="cantidad = cantidad < product.quantity ? cantidad + 1 : product.quantity">
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 5l7 7H5l7-7z"></path>
                  </svg>
                </button>
                <button 
                  type="button" 
                  class="size-7 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-ee-lg bg-gray-50 text-gray-800 hover:bg-gray-100 focus:outline-hidden focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" 
                  aria-label="Decrease" 
                  (click)="cantidad = cantidad > 1 ? cantidad - 1 : 1">
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 19l-7-7h14l-7 7z"></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
  
          <button 
            class="px-3 py-1.5 bg-[#283593] text-white rounded-md hover:bg-[#1F1F44] transition focus:outline-none text-sm"
            [disabled]="cantidad < 1 || cantidad > product.quantity"
            (click)="agregarAlCarrito()">
            Agregar
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <div *ngIf="!product" class="text-center text-gray-500 py-10">
    Cargando producto...
  </div>
  